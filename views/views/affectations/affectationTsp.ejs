<!-- Wappler include head-page="layouts/main" jquery_slim_33="cdn" fontawesome_4="cdn" is="dmx-app" id="affectationTsp" appconnect="local" bootstrap5="local" components="{dmxStateManagement:{},dmxBootstrap5TableGenerator:{},dmxBootstrap5Modal:{},dmxBrowser:{},dmxNotifications:{},dmxScheduler:{},dmxBootstrap5Offcanvas:{},dmxDataTraversal:{},dmxBootstrap5PagingGenerator:{},dmxBootstrap5Navigation:{}}" -->

<dmx-api-action id="updateAffectation" noload="true" method="post" url="http://localhost:5243/api/accessoire/affectationAccessoire" dmx-data:ids="selectedAccessories.items" dmx-header:authorization="connectedUser.data.token" dmx-data:idtsp="selectedAffecation.value.Tsp.IdTsp" dmx-data:idemploye="selectedAffecation.value.Employe.Matricule" dmx-data:usercrea="connectedUser.data.matricule" dmx-data:datecrea="date.datetime" dmx-on:success="notifies1.success('Affectation des accessoires mise à jours');existingAccessories.load({});availableAccessories.load({});editAccessoire.input1.select(false)" dmx-on:error="notifies1.danger(lastError.message)"></dmx-api-action>
<dmx-array id="selectedAccessories"></dmx-array>
<dmx-api-datasource id="existingAccessories" is="dmx-fetch" url="http://localhost:5243/api/accessoire/affectationByIdTsp" dmx-header:authorization="'Bearer eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJub20iOiJBU0hSQUYgTU9IQU1FRCBBREVOIiwibWF0cmljdWxlIjoiNDc2OTgiLCJleHAiOjE3MDE2OTg4NzUsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6NTIyNCIsImF1ZCI6Imh0dHA6Ly9sb2NhbGhvc3Q6NTIyNCJ9.bSjD9-3ekzKx6kpvdPaeuu1L5pBP_4vc0x8vBqsLiJs'" dmx-param:id="selectedAffecation.value.Tsp.IdTsp"></dmx-api-datasource>
<dmx-api-datasource id="availableAccessories" is="dmx-fetch" url="http://localhost:5243/api/accessoire/availableAccessories" dmx-header:authorization="'Bearer eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJub20iOiJBU0hSQUYgTU9IQU1FRCBBREVOIiwibWF0cmljdWxlIjoiNDc2OTgiLCJleHAiOjE3MDE2OTg4NzUsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6NTIyNCIsImF1ZCI6Imh0dHA6Ly9sb2NhbGhvc3Q6NTIyNCJ9.bSjD9-3ekzKx6kpvdPaeuu1L5pBP_4vc0x8vBqsLiJs'"></dmx-api-datasource>
<dmx-data-view id="dataViewAffectation" dmx-bind:data="affecationList.data" dmx-bind:page="affecationList.paging.pages" dmx-bind:pagesize="10"></dmx-data-view>
<dmx-value id="loadingList" dmx-bind:value="true"></dmx-value>

<dmx-value id="loadingEdit" dmx-bind:value="false"></dmx-value>
<dmx-value id="loadingEmp" dmx-bind:value="false"></dmx-value>
<dmx-value id="loadingSim" dmx-bind:value="false"></dmx-value>
<dmx-value id="loadingTsp" dmx-bind:value="false"></dmx-value>
<dmx-value id="sectionId" dmx-bind:value="0"></dmx-value>

<dmx-value id="selectedAffecation"></dmx-value>

<dmx-scheduler id="scheduler1" dmx-on:tick="" delay="3"></dmx-scheduler>
<dmx-notifications id="notifies1"></dmx-notifications>

<div is="dmx-browser" id="browser1"></div>
<dmx-datetime id="date"></dmx-datetime>
<dmx-api-action id="deleteApi" noload="true" method="delete" data-type="json" dmx-data:id="selectedAffecation.value.IdAffect" dmx-on:success="affecationList.load({});tspNonAffectList.load({});simNonAffecteList.load({});selectedAffecation.setValue(null);affecationList.load({});loadingEdit.setValue(false);deleteModal.hide()" dmx-bind:url="'http://localhost:5243/api/affectationAM/'+selectedAffecation.value.IdAffect" dmx-header:authorization="connectedUser.data.token" dmx-on:done="affecationList.load({});newAfffId.load({});simNonAffecteList.load({});tspNonAffectList.load({});employeNonAffecteList.load({});deleteModal.hide();loadingEdit.setValue(false);notifies1.info(lastError.status+lastError.message)"></dmx-api-action>
<dmx-api-datasource id="newAfffId" is="dmx-fetch"></dmx-api-datasource>
<dmx-api-datasource id="sectionsList" is="dmx-fetch" url="http://localhost:5243/api/tableValeur/newAffectation"></dmx-api-datasource>
<dmx-api-datasource id="simNonAffecteList" is="dmx-fetch" url="http://localhost:5243/api/simMobile/simNonAffecte" dmx-header:authorization="token.data.token" dmx-on:start="loadingSim.setValue(true)" dmx-on:done="loadingSim.setValue(false)"></dmx-api-datasource>
<dmx-api-datasource id="tspNonAffectList" is="dmx-fetch" url="http://localhost:5243/api/tsp/nonAffecte/all" dmx-header:authorization="token.data.token" dmx-on:start="loadingTsp.setValue(true)" dmx-on:done="loadingTsp.setValue(false)"></dmx-api-datasource>
<dmx-api-datasource id="employeNonAffecteList" is="dmx-fetch" dmx-header:authorization="connectedUser.data.token" dmx-bind:url="'http://localhost:5243/api/employe/nonAffecte/'+sectionId.value" dmx-on:start="loadingEmp.setValue(true)" dmx-on:done="loadingEmp.setValue(false)"></dmx-api-datasource>
<dmx-api-datasource id="affecationList" is="dmx-fetch" url="http://localhost:5243/api/affectationAM/firstLoad" dmx-header:authorization="token.data.token" dmx-on:unauthorized="browser1.goto('/auth/login');connectedUser.removeAll()" dmx-on:success="loadingList.setValue(false)" dmx-on:error="notifies1.warning('Une erreur est survenue, veuillez rafraichir la page');loadingList.setValue(false)"></dmx-api-datasource>

<meta name="ac:route" content="/views/affectations/affectationTsp" />
<dmx-local-manager id="token"></dmx-local-manager>

<div class="modal" id="newAffect" is="dmx-bs5-modal" tabindex="-1">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Enregistrement d'une nouvelle affectation</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- Wappler include jquery_slim_33="cdn" fontawesome_4="cdn" is="dmx-app" id="editAffectation" appConnect="local" bootstrap5="local" -->
        <div class="col-12">
          <div class="card border-primary">
            <div class="card-body">
              <form id="NewAffectationForm" method="post" is="dmx-api-form" action="http://localhost:5243/api/affectationAM" dmx-header:authorization="connectedUser.data.token" dmx-on:success="notifies1.success('Affectation modifiée');scheduler1.start();affecationList.load({});tspNonAffectList.load({});simNonAffecteList.load({});newAffect.toggle();loadingEdit.setValue(false);newAffect.update();NewAffectationForm.reset();sectionId.setValue(0)" dmx-on:error="loadingEdit.setValue(false);notifies1.danger(lastError.message)" post-data="json">
                <div class="row">
                  <div class="col-12 text-start">
                    <div class="row">
                      <div class="col">
                        <div class="form-group mb-3">
                          <label for="select1" class="form-label" id="sectionlabel">Choisissez la section</label><select id="section" class="form-select" dmx-bind:options="sectionsList.data" optiontext="LibCourt" optionvalue="IdLigne" dmx-on:changed="sectionId.setValue(value);employeNonAffecteList.load({});tspNonAffectList.load({});simNonAffecteList.load({})">
                            <option value="0"></option>
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="row" dmx-hide="sectionId.value==0">
                      <div class="col">
                        <div class="form-group mb-3">
                          <label for="select1" class="form-label" id="selectempLabel">Choississez un employe</label><select id="newEmploye" class="form-select" name="EmployeId" dmx-bind:options="employeNonAffecteList.data" optiontext="Nom" optionvalue="Matricule">
                            <option selected="" value="null">
                              Aucun employe selectionné
                            </option>
                          </select><button id="loadingbtnemp" class="btn" dmx-show="loadingEmp.value">
                            <span class="spinner-border spinner-border-sm" role="status"></span>
                          </button>
                        </div>

                        <input id="newDateCrea" name="DateCrea" class="form-control" dmx-bind:value="date.datetime" type="hidden" />
                        <input id="newUserCrea" name="UserCrea" type="hidden" class="form-control" dmx-bind:value="connectedUser.data.matricule" />
                        <input id="newIdAffect" name="IdAffect" type="hidden" class="form-control" value="0" />
                      </div>
                    </div>
                    <div class="row" dmx-hide="sectionId.value==0">
                      <div class="col mt-4">
                        <div class="form-group mb-3">
                          <label for="select1" class="form-label" id="simLabel">Choississez votre numero</label><select id="newsimSelect" class="form-select" dmx-bind:options="simNonAffecteList.data" optiontext="NumTel" optionvalue="IdSim" name="SimMobileId">
                            <option selected="" value="">
                              Aucune sim
                            </option>
                          </select><button id="loadingbtnsim" class="btn" dmx-show="loadingSim.value">
                            <span class="spinner-border spinner-border-sm" role="status"></span>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-4" dmx-hide="sectionId.value==0">
                      <div class="col">
                        <div class="form-group mb-3">
                          <label for="select1" class="form-label" id="TspLabel">Choissisez votre appareil</label><select id="newTspSelect" class="form-select" dmx-bind:options="tspNonAffectList.data" optiontext="Nom" optionvalue="IdTsp" name="TspId">
                            <option selected="" value="">
                              Aucun appareil
                            </option>
                          </select><button id="loadingbtnTsp" class="btn" dmx-show="loadingTsp.value">
                            <span class="spinner-border spinner-border-sm" role="status"></span>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col">
                        <button id="newloadingbtn" class="btn btn-light" dmx-show="loadingEdit.value">
                          <span class="spinner-border spinner-border-sm text-danger" role="status"></span>
                        </button>
                        <button id="newsubmit" class="btn btn-primary" type="submit" dmx-on:click="loadingEdit.setValue(true);loadingList.setValue(true)" dmx-hide="newEmploye.value=='null'||(newsimSelect.value == 'null' &amp;&amp; newTspSelect.value=='null')||loadingEdit.value">
                          Enregistrer
                        </button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="newcancel" dmx-hide="loadingEdit.value">
                          Annuler
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal" id="editModal" is="dmx-bs5-modal" tabindex="-1">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- Wappler include jquery_slim_33="cdn" fontawesome_4="cdn" is="dmx-app" id="editAffectation" appConnect="local" bootstrap5="local" -->
        <div class="col-12">
          <div class="card border-primary">
            <div class="card-body">
              <form id="affectationForm" method="post" is="dmx-api-form" action="http://localhost:5243/api/affectationAM/updateAffectation" dmx-header:authorization="connectedUser.data.token" dmx-on:success="notifies1.success('Affectation modifiée');scheduler1.start();editModal.toggle();affecationList.load({});tspNonAffectList.load({});simNonAffecteList.load({});loadingEdit.setValue(false);selectedAffecation.setValue(null)" dmx-on:error="loadingEdit.setValue(false);notifies1.danger(lastError.message)" post-data="json">
                <div class="row">
                  <div class="col-12 text-start">
                    <div class="row">
                      <div class="col">
                        <input id="DateCrea" name="DateCrea" class="form-control" dmx-bind:value="date.datetime" type="hidden" />
                        <input id="UserCrea" name="UserCrea" type="hidden" class="form-control" dmx-bind:value="connectedUser.data.matricule" />
                        <input id="IdAffect" name="IdAffect" type="hidden" class="form-control" dmx-bind:value="selectedAffecation.value.IdAffect" />
                        <input id="EmployeId" name="EmployeId" type="hidden" class="form-control" dmx-bind:value="selectedAffecation.value.Employe.Matricule" />
                        <h1>Mise à jour</h1>
                        <p class="text-h3 w-100" dmx-text="'Affecté à : '+selectedAffecation.value.Employe.Nom">
                          Enter your details below.
                        </p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col mt-4">
                        <select id="simSelect" class="form-select" dmx-bind:options="simNonAffecteList.data" optiontext="NumTel" optionvalue="IdSim" name="SimMobileId">
                          <option selected="" value="null">
                            {{ selectedAffecation.value.SimMobile.NumTel }}
                          </option>
                          <option value="">Enlever la carte sim</option>
                        </select>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col">
                        <select id="TspSelect" class="form-select" dmx-bind:options="tspNonAffectList.data" optiontext="Nom" optionvalue="IdTsp" name="TspId">
                          <option value="null">
                            {{ selectedAffecation.value.Tsp.Nom }}
                          </option>
                          <option value="">Enlever l'appareil</option>
                        </select>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col">
                        <button id="loadingbtn" class="btn btn-light" dmx-show="loadingEdit.value">
                          <span class="spinner-border spinner-border-sm text-danger" role="status"></span>
                        </button>
                        <button id="submit" class="btn btn-primary" type="submit" dmx-hide="loadingEdit.value||(simSelect.value == selectedAffecation.value.SimMobile.IdSim &amp;&amp; TspSelect.value == selectedAffecation.value.Tsp.IdTsp)" dmx-on:click="loadingEdit.setValue(true);loadingList.setValue(true)">
                          Modifier
                        </button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="cancel" dmx-hide="loadingEdit.value">
                          Annuler
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal" id="editAccessoire" is="dmx-bs5-modal" tabindex="-1">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <h6>L'appareil posséde les accessoires suivants:</h6>
              <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover table-sm">
                  <thead>
                    <tr>
                      <th>Nom</th>
                      <th>Type accessoire</th>
                    </tr>
                  </thead>
                  <tbody is="dmx-repeat" dmx-generator="bs5table" dmx-bind:repeat="existingAccessories.data" id="tableRepeat1">
                    <tr>
                      <td dmx-text="Nom"></td>
                      <td dmx-text="TypeAccessoire.Nom"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="col-12">
              <h6>Choisissez les accessoires à ajouter depuis ce tableau:</h6>
              <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover table-sm">
                  <thead>
                    <tr>
                      <th>Nom</th>
                      <th>Type accessoire</th>
                      <th scope="row">Actions</th>
                    </tr>
                  </thead>
                  <tbody is="dmx-repeat" dmx-generator="bs5table" dmx-bind:repeat="availableAccessories.data" id="tableRepeat3">
                    <tr>
                      <td dmx-text="Nom"></td>
                      <td dmx-text="TypeAccessoire.Nom"></td>
                      <td class="text-center">
                        <form id="form1">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="input1" name="input1" dmx-on:checked="selectedAccessories.addUniq(IdAccessoire)" dmx-on:unchecked="selectedAccessories.remove(IdAccessoire)" />
                          </div>
                        </form>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="col text-center">
              <button id="btn1" class="btn btn-primary" dmx-on:click="updateAffectation.load({}) " data-bs-dismiss="modal">
                Enregistrer
              </button>
              <button id="cancelAcc" class="btn btn-secondary" data-bs-dismiss="modal" dmx-on:click="form1.reset()">
                Annuler
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal" id="deleteModal" is="dmx-bs5-modal" tabindex="-1">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Suppression d'une affectation</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Etes vous sûr de vouloir supprimer cette affectation?</p>
      </div>
      <div class="modal-footer">
        <form is="dmx-api-form" id="apiform1" method="post" dmx-bind:action="'http://localhost:5243/api/affectationAM/deleteAffectation/'+selectedAffecation.value.IdAffect" dmx-on:success="affecationList.load({});employeNonAffecteList.load({});tspNonAffectList.load({});simNonAffecteList.load({});newAfffId.load({});notifies1.success('Affectation supprimée');loadingEdit.setValue(false);deleteModal.hide()" dmx-on:error="loadingEdit.setValue(false);notifies1.warning(lastError.response+lastError.message+lastError.status)" dmx-header:authorization="connectedUser.data.token" post-data="json">
          <button type="submit" class="btn btn-danger" dmx-hide="loadingEdit.value" dmx-on:click="loadingEdit.setValue(true);loadingList.setValue(true)">
            Supprimer
          </button>
        </form>
        <button id="deleteloading" class="btn" dmx-show="loadingEdit.value">
          <span class="spinner-border spinner-border-sm" role="status"></span>
        </button>

        <button type="button" data-bs-dismiss="modal" class="btn btn-info" dmx-hide="loadingEdit.value">
          Annuler
        </button>
      </div>
    </div>
  </div>
</div>
<div class="container-fluid wappler-block">
  <div class="row">
    <div class="col-12 col-md-8 col-xl-9">
      <h4 class="fw-bolder text-center shadow-sm lh-base fst-italic mark" style="text-decoration: underline">
        Liste des affectations
      </h4>
      <div class="row">
        <div class="col">
          <div class="d-flex justify-content-end">
            <button id="addAffect" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#newAffect">Ajouter
              <i class="fa fa-plus"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <button id="btn1n" class="btn" dmx-show="loadingList.value">
            <span class="spinner-border spinner-border-sm text-primary" role="status"></span>
          </button>
          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover table-sm">
              <thead>
                <tr>
                  <th>Appareil</th>
                  <th>Agent</th>
                  <th>Numero sim</th>
                  <th>Affecté par</th>
                  <th>Date</th>
                </tr>
              </thead>
              <tbody is="dmx-repeat" dmx-generator="bs5table" dmx-bind:repeat="dataViewAffectation.data" id="tableRepeat2">
                <tr dmx-on:click="selectedAffecation.setValue($value)">
                  <td dmx-text="Tsp.Nom"></td>
                  <td dmx-text="Employe.Nom"></td>
                  <td dmx-text="SimMobile.NumTel"></td>
                  <td dmx-text="affectedBy"></td>
                  <td dmx-text="DateCreation"></td>
                </tr>
              </tbody>
            </table>
          </div>
          <ul class="pagination" dmx-dataview="dataViewAffectation" dmx-generator="bs5paging">
            <li class="page-item" dmx-class:disabled="dataViewAffectation.page == 1" aria-label="First">
              <a href="javascript:void(0)" class="page-link" dmx-on:click="dataViewAffectation.first()"><span aria-hidden="true">&lsaquo;&lsaquo;</span></a>
            </li>
            <li class="page-item" dmx-class:disabled="dataViewAffectation.page == 1" aria-label="Previous">
              <a href="javascript:void(0)" class="page-link" dmx-on:click="dataViewAffectation.prev()"><span aria-hidden="true">&lsaquo;</span></a>
            </li>
            <li class="page-item" dmx-class:active="title == dataViewAffectation.page" dmx-class:disabled="!active" dmx-repeat="dataViewAffectation.getDataViewPagination(2,1,'...')">
              <a href="javascript:void(0)" class="page-link" dmx-on:click="dataViewAffectation.select(page)">{{title)}}</a>
            </li>
            <li class="page-item" dmx-class:disabled="dataViewAffectation.page == dataViewAffectation.pages" aria-label="Next">
              <a href="javascript:void(0)" class="page-link" dmx-on:click="dataViewAffectation.next()"><span aria-hidden="true">&rsaquo;</span></a>
            </li>
            <li class="page-item" dmx-class:disabled="dataViewAffectation.page == dataViewAffectation.pages" aria-label="Last">
              <a href="javascript:void(0)" class="page-link" dmx-on:click="dataViewAffectation.last()"><span aria-hidden="true">&rsaquo;&rsaquo;</span></a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-4 col-xl-3">
      <div class="row">
        <div class="col-12">
          <div class="d-flex justify-content-between">
            <button id="deleten" class="btn btn-danger" data-bs-target="#deleteModal" dmx-show="selectedAffecation.value!=null" data-bs-toggle="modal">
              <i class="fa fa-trash-o"></i> Supprimer
            </button>

            <button id="edit" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#editModal" dmx-show="selectedAffecation.value!=null">
              <i class="fa fa-pencil"></i> Modifier
            </button>
            <button id="access" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#editAccessoire" dmx-show="selectedAffecation.value!=null">
              <i class="fa fa-exchange"></i> Accessoire
            </button>
          </div>
        </div>
        <div class="col-12">
          <div class="card border-primary">
            <div class="card-body">
              <div class="row">
                <div class="col-12">
                  <h6 class="fw-bolder">Agent:</h6>
                  <div class="d-flex flex-column justify-content-around">
                    <p id="nomAgent" dmx-text="'Nom: '+selectedAffecation.value.Employe.Nom"></p>
                  </div>
                  <div class="d-flex flex-column justify-content-around">
                    <p id="matricule" dmx-text="'Matricule: '+selectedAffecation.value.Employe.Matricule"></p>
                  </div>
                </div>
                <div class="col-12">
                  <h4 class="card-title">Details</h4>
                </div>
                <div class="col-6">
                  <h6 class="fw-bolder">Carte sim:</h6>
                  <div class="d-flex flex-column justify-content-around">
                    <p id="puk" dmx-text="'Puk: '+selectedAffecation.value.SimMobile.Puk"></p>
                    <p id="pin" dmx-text="'Pin: '+selectedAffecation.value.SimMobile.Pin"></p>
                    <p id="numero" dmx-text="'Numero: '+selectedAffecation.value.SimMobile.NumTel"></p>
                  </div>
                </div>
                <div class="col-6">
                  <h6 class="fw-bolder">Tsp:</h6>
                  <div class="d-flex flex-column justify-content-around">
                    <p id="nomTsp" dmx-text="'Nom: '+selectedAffecation.value.Tsp.Nom"></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>